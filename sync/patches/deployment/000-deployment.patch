diff --git a/vendor/dex/templates/deployment.yaml b/helm/dex-app/charts/dex/templates/deployment.yaml
index 607cafd..763c6a3 100644
--- a/vendor/dex/templates/deployment.yaml
+++ b/helm/dex-app/charts/dex/templates/deployment.yaml
@@ -1,7 +1,7 @@
 apiVersion: apps/v1
 kind: Deployment
 metadata:
-  name: {{ include "dex.fullname" . }}
+  name: {{ include "dex.name" . }}
   namespace: {{ include "dex.namespace" . }}
   labels:
     {{- include "dex.labels" . | nindent 4 }}
@@ -57,10 +57,27 @@ spec:
         - name: {{ .Chart.Name }}
           securityContext:
             {{- toYaml .Values.securityContext | nindent 12 }}
+          {{- $registry := .Values.image.registry | default "" -}}
+          {{- if .Values.global }}
+            {{- if .Values.global.image }}
+              {{- $registry = .Values.global.image.registry | default $registry -}}
+            {{- end }}
+          {{- end }}
+          {{- $repository := .Values.image.repository -}}
+          {{- $imagePrefix := "" -}}
+          {{- if $registry -}}
+            {{- $imagePrefix = printf "%s/" $registry -}}
+          {{- end -}}
           {{- if .Values.image.digest }}
-          image: "{{ tpl .Values.image.repository . }}@{{ tpl .Values.image.digest . }}"
+          image: "{{ $imagePrefix }}{{ $repository }}@{{ .Values.image.digest }}"
           {{- else }}
-          image: "{{ tpl .Values.image.repository . }}:{{ tpl .Values.image.tag . | default (printf "v%s" .Chart.AppVersion) }}"
+          {{- $tag := .Values.image.tag | default (printf "v%s" .Chart.AppVersion) -}}
+          {{- if .Values.global }}
+            {{- if .Values.global.image }}
+              {{- $tag = .Values.global.image.tag | default $tag -}}
+            {{- end }}
+          {{- end }}
+          image: "{{ $imagePrefix }}{{ $repository }}:{{ $tag }}"
           {{- end }}
           imagePullPolicy: {{ .Values.image.pullPolicy }}
           args:
@@ -122,6 +139,8 @@ spec:
             - name: config
               mountPath: /etc/dex
               readOnly: true
+            - name: tmp-volume
+              mountPath: /tmp
           {{- with .Values.volumeMounts }}
             {{- toYaml . | nindent 12 }}
           {{- end }}
@@ -129,6 +148,8 @@ spec:
         - name: config
           secret:
             secretName: {{ include "dex.configSecretName" . }}
+        - name: tmp-volume
+          emptyDir: {}
       {{- with .Values.volumes }}
         {{- toYaml . | nindent 8 }}
       {{- end }}
