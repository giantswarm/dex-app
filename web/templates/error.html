{{ template "header.html" . }}

<div class="theme-panel" id="error">
  <noscript>
    <h2 class="theme-heading">{{ .ErrType }}</h2>
    <p>{{ .ErrMsg }}</p>
  </noscript>
</div>
<script>
  const errorMsg = {{ .ErrMsg }};
  const connectorID = new URL(document.location).searchParams.get(
      "connector_id"
  );
  const errorContainerEl = document.querySelector("#error");

  if (connectorID && errorMsg === "Connector ID does not match a valid Connector") {
      const errorMsgEl = document.createElement("p");
      errorMsgEl.textContent = `Connector ID "${connectorID}" does not match a valid connector.`;

      errorContainerEl.append(errorMsgEl);
  } else {
      const errorTypeEl = document.createElement("h2");
      errorTypeEl.classList.add("theme-heading");
      errorTypeEl.textContent = {{ .ErrType }};

      const errorMsgEl = document.createElement("p");
      errorMsgEl.textContent = errorMsg;

      errorContainerEl.append(errorTypeEl, errorMsgEl);
  }
</script>

{{ template "footer.html" . }}
